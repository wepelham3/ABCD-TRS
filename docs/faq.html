<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ABCD Risk Score Tools – faq</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">ABCD Risk Score Tools</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Start Here</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./code-download.html" rel="" target="">
 <span class="menu-text">Download the Tools</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./documentation.html" rel="" target="">
 <span class="menu-text">Documentation</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./explore-metadata.html" rel="" target="">
 <span class="menu-text">Explore the item metadata</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./faq.html" rel="" target="" aria-current="page">
 <span class="menu-text">FAQs</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#frequently-asked-questions" id="toc-frequently-asked-questions" class="nav-link active" data-scroll-target="#frequently-asked-questions">Frequently Asked Questions</a>
  <ul class="collapse">
  <li><a href="#will-the-code-in-abcd-rstools-work-if-i-dont-have-the-abcd-study-data" id="toc-will-the-code-in-abcd-rstools-work-if-i-dont-have-the-abcd-study-data" class="nav-link" data-scroll-target="#will-the-code-in-abcd-rstools-work-if-i-dont-have-the-abcd-study-data"><strong>Will the code in <code>abcd-rstools</code> work if I don’t have the ABCD Study data?</strong></a></li>
  <li><a href="#is-the-code-available-in-another-programming-language-besides-r" id="toc-is-the-code-available-in-another-programming-language-besides-r" class="nav-link" data-scroll-target="#is-the-code-available-in-another-programming-language-besides-r"><strong>Is the code available in another programming language besides R?</strong></a></li>
  <li><a href="#what-is-the-item-metadata-and-how-did-you-create-it" id="toc-what-is-the-item-metadata-and-how-did-you-create-it" class="nav-link" data-scroll-target="#what-is-the-item-metadata-and-how-did-you-create-it"><strong>What is the “item metadata” and how did you create it?</strong></a></li>
  <li><a href="#are-there-any-problems-in-the-item-metadata-i-should-be-aware-of" id="toc-are-there-any-problems-in-the-item-metadata-i-should-be-aware-of" class="nav-link" data-scroll-target="#are-there-any-problems-in-the-item-metadata-i-should-be-aware-of"><strong>Are there any problems in the item metadata I should be aware of?</strong></a></li>
  <li><a href="#i-think-there-is-a-bug-in-your-code-or-error-in-your-item-metadata-what-should-i-do" id="toc-i-think-there-is-a-bug-in-your-code-or-error-in-your-item-metadata-what-should-i-do" class="nav-link" data-scroll-target="#i-think-there-is-a-bug-in-your-code-or-error-in-your-item-metadata-what-should-i-do"><strong>I think there is a bug in your code or error in your item metadata — what should I do?</strong></a></li>
  <li><a href="#how-do-i-acknowledge-cite-this-tool" id="toc-how-do-i-acknowledge-cite-this-tool" class="nav-link" data-scroll-target="#how-do-i-acknowledge-cite-this-tool"><strong>How do I acknowledge / cite this tool?</strong></a></li>
  <li><a href="#where-can-i-read-more-about-creating-and-evaluating-predictive-modeling-tools" id="toc-where-can-i-read-more-about-creating-and-evaluating-predictive-modeling-tools" class="nav-link" data-scroll-target="#where-can-i-read-more-about-creating-and-evaluating-predictive-modeling-tools"><strong>Where can I read more about creating and evaluating predictive modeling tools?</strong></a></li>
  <li><a href="#my-question-isnt-answered-here---whom-should-i-contact" id="toc-my-question-isnt-answered-here---whom-should-i-contact" class="nav-link" data-scroll-target="#my-question-isnt-answered-here---whom-should-i-contact">My question isn’t answered here - whom should I contact?</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="frequently-asked-questions" class="level1">
<h1>Frequently Asked Questions</h1>
<section id="will-the-code-in-abcd-rstools-work-if-i-dont-have-the-abcd-study-data" class="level3">
<h3 class="anchored" data-anchor-id="will-the-code-in-abcd-rstools-work-if-i-dont-have-the-abcd-study-data"><strong>Will the code in <code>abcd-rstools</code> work if I don’t have the ABCD Study data?</strong></h3>
<p>No, you need the ABCD Study data for the code to work.</p>
<p>You can only get the ABCD data from the NIH via the <a href="https://www.nbdc-datahub.org/">NBDC Data Hub</a>.</p>
</section>
<section id="is-the-code-available-in-another-programming-language-besides-r" class="level3">
<h3 class="anchored" data-anchor-id="is-the-code-available-in-another-programming-language-besides-r"><strong>Is the code available in another programming language besides R?</strong></h3>
<p>No, the code is only available in R.</p>
</section>
<section id="what-is-the-item-metadata-and-how-did-you-create-it" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-item-metadata-and-how-did-you-create-it"><strong>What is the “item metadata” and how did you create it?</strong></h3>
<p>The item metadata (<code>ABCD-item-metadata.csv</code>) is a table that identifies which variables in the ABCD Study data could be survey items on a risk score. The table also has additional information that might be helpful when creating a risk score (e.g., which topic that question asked about, who the question was asked of).</p>
<p>We made the item metadata by looking at every single variable in the ABCD 6.0 release. For each variable, we checked whether it met the following criteria:</p>
<p>(a) it could be measured via survey item (vs., e.g., required brain imaging)</p>
<p>(b) it was administered in the core study, to the full ABCD sample (vs.&nbsp;a subsample or the eligibility screener)</p>
<p>(c) if skip/display logic was present, it could be appropriately handled by recoding</p>
<p>Guided by this table, we then did all the recoding that would be necessary to create a clean dataframe of items that are ready to enter into risk scores and test as predictors.</p>
<p>The script <code>worked-example.R</code> in <code>abcd-rstools</code> shows how the finished item metadata can be used to create and evaluate a risk score. If you want to know more detail about how we created the metadata, and handled edge cases, view some further documentation <a href="02-how-we-created-the-bespoke-metadata.pdf">here</a>.</p>
</section>
<section id="are-there-any-problems-in-the-item-metadata-i-should-be-aware-of" class="level3">
<h3 class="anchored" data-anchor-id="are-there-any-problems-in-the-item-metadata-i-should-be-aware-of"><strong>Are there any problems in the item metadata I should be aware of?</strong></h3>
<ol type="1">
<li>Items the measured the youth’s substance use are currently excluded from the pool of items. This is because the ABCD Study’s assessment of substance use entailed some complicated skip logic that differed over time. We are still finishing the recoding of the substance use variables into items and expect to finish in January 2025.</li>
</ol>
</section>
<section id="i-think-there-is-a-bug-in-your-code-or-error-in-your-item-metadata-what-should-i-do" class="level3">
<h3 class="anchored" data-anchor-id="i-think-there-is-a-bug-in-your-code-or-error-in-your-item-metadata-what-should-i-do"><strong>I think there is a bug in your code or error in your item metadata — what should I do?</strong></h3>
<p>[pending: check back later]</p>
</section>
<section id="how-do-i-acknowledge-cite-this-tool" class="level3">
<h3 class="anchored" data-anchor-id="how-do-i-acknowledge-cite-this-tool"><strong>How do I acknowledge / cite this tool?</strong></h3>
<p>[pending: check back later]</p>
</section>
<section id="where-can-i-read-more-about-creating-and-evaluating-predictive-modeling-tools" class="level3">
<h3 class="anchored" data-anchor-id="where-can-i-read-more-about-creating-and-evaluating-predictive-modeling-tools"><strong>Where can I read more about creating and evaluating predictive modeling tools?</strong></h3>
<p>Here are some references!</p>
<p>Steyerberg, E. W., &amp; Harrell, F. E. (2016). Prediction models need appropriate internal, internal–external, and external validation. Journal of Clinical Epidemiology, 69, 245–247. <a href="https://doi.org/10.1016/j.jclinepi.2015.04.005" class="uri">https://doi.org/10.1016/j.jclinepi.2015.04.005</a></p>
<p>Japkowicz, N., &amp; Shah, M. (2011). Evaluating Learning Algorithms: A Classification Perspective. Cambridge University Press.</p>
<p>Hemingway, H., Croft, P., Perel, P., Hayden, J. A., Abrams, K., Timmis, A., Briggs, A., Udumyan, R., Moons, K. G. M., Steyerberg, E. W., Roberts, I., Schroter, S., Altman, D. G., &amp; Riley, R. D. (2013). Prognosis research strategy (PROGRESS) 1: A framework for researching clinical outcomes. BMJ, 346, e5595. <a href="https://doi.org/10.1136/bmj.e5595" class="uri">https://doi.org/10.1136/bmj.e5595</a>&nbsp;</p>
<p>Riley, R. D., Hayden, J. A., Steyerberg, E. W., Moons, K. G. M., Abrams, K., Kyzas, P. A., Malats, N., Briggs, A., Schroter, S., Altman, D. G., Hemingway, H., &amp; Group,&nbsp; for the P. (2013). Prognosis research strategy (PROGRESS) 2: Prognostic factor research. PLOS Medicine, 10(2), e1001380. <a href="https://doi.org/10.1371/journal.pmed.1001380" class="uri">https://doi.org/10.1371/journal.pmed.1001380</a>&nbsp;</p>
<p>Steyerberg, E. W., Moons, K. G. M., Windt, D. A. van der, Hayden, J. A., Perel, P., Schroter, S.,&nbsp;</p>
<p>Riley, R. D., Hemingway, H., Altman, D. G., &amp; Group,&nbsp; for the P. (2013). Prognosis research strategy (PROGRESS) 3: Prognostic model research. PLOS Medicine, 10(2), e1001381. <a href="https://doi.org/10.1371/journal.pmed.1001381" class="uri">https://doi.org/10.1371/journal.pmed.1001381</a></p>
<p>Hingorani, A. D., Windt, D. A. van der, Riley, R. D., Abrams, K., Moons, K. G. M., Steyerberg, E. W., Schroter, S., Sauerbrei, W., Altman, D. G., &amp; Hemingway, H. (2013). Prognosis research strategy (PROGRESS) 4: Stratified medicine research. BMJ, 346, e5793. <a href="https://doi.org/10.1136/bmj.e5793" class="uri">https://doi.org/10.1136/bmj.e5793</a></p>
</section>
<section id="my-question-isnt-answered-here---whom-should-i-contact" class="level3">
<h3 class="anchored" data-anchor-id="my-question-isnt-answered-here---whom-should-i-contact">My question isn’t answered here - whom should I contact?</h3>
<p>Email &lt;wpelham at ucsd dot edu&gt;.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>